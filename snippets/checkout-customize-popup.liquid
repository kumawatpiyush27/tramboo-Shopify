<!-- Popup for choosing checkout action after adding a customized product -->
<div id="checkout-customize-popup" style="display:none;position:fixed;z-index:12000;left:0;right:0;bottom:0;width:100vw;pointer-events:none;">
  <div style="background:#fff;box-shadow:0 -2px 24px rgba(0,0,0,0.18);border-radius:18px 18px 0 0;max-width:420px;width:95vw;margin:0 auto 18px auto;padding:20px 16px 16px 16px;position:relative;pointer-events:auto;border:1px solid #ececec;">
    <button id="checkout-with-other" style="width:100%;background:#111;color:#fff;padding:16px 0;font-size:18px;font-weight:600;border:none;border-radius:8px;cursor:pointer;margin-bottom:8px;box-shadow:0 1px 4px rgba(0,0,0,0.04);">Checkout With Other Items</button>
    <button id="checkout-with-customize" style="width:100%;background:#fff;color:#1e90ff;padding:14px 0;font-size:17px;font-weight:600;border:none;border-radius:8px;cursor:pointer;text-decoration:underline;">Checkout With Personalized Order</button>
  </div>
</div>
<script>
// Logic for the post-add-to-cart popup
function showCheckoutCustomizePopup() {
  var popup = document.getElementById('checkout-customize-popup');
  if (popup) {
    popup.style.display = 'block';
    popup.style.pointerEvents = 'auto';
    popup.scrollTop = 0;
  }
}
function hideCheckoutCustomizePopup() {
  document.getElementById('checkout-customize-popup').style.display = 'none';
}
document.addEventListener('DOMContentLoaded', function() {
  var btnCustomize = document.getElementById('checkout-with-customize');
  var btnOther = document.getElementById('checkout-with-other');
  if(btnCustomize) {
    btnCustomize.onclick = function() {
      hideCheckoutCustomizePopup();
      window.__CHECKOUT_CUSTOMIZE_ACTION = 'custom';
      // This will be handled in the main add-to-cart script
    };
  }
  if(btnOther) {
    btnOther.onclick = function() {
      hideCheckoutCustomizePopup();
      window.__CHECKOUT_CUSTOMIZE_ACTION = 'other';
      // This will be handled in the main add-to-cart script
    };
  }
});
</script>
